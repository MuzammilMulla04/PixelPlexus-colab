{% extends 'main.html' %} {% block content %}

<main class="bg-neutral-900 min-h-screen p-6 ml-16">
	{% comment %} Welcome {% endcomment %}
	<div
		class="sm:grid-cols-1 md:grid-cols-2 bg-neutral-800 container grid items-center gap-6 p-6 mb-6 rounded-lg shadow-lg">
		{% comment %} Profile and Welcome Message {% endcomment %}
		<div class="flex flex-row items-center">
			<div
				class="text-neutral-400 hover:scale-110 content-center w-20 h-20 ml-10 mr-8 text-center transition-all duration-300 transform scale-100 rounded-full">
				{% comment %} Profile Picture {% endcomment %}
				<img src="{{ user_profile.avatar.url }}"
					class="text-neutral-400 hover:scale-110 content-center object-cover w-20 h-20 mr-8 text-center transition-all duration-300 transform scale-100 rounded-full"
					alt="Profile Picture" />
			</div>
			<div class="text-3xl font-semibold text-white">
				Welcome, {{ user_profile.user.username.capitalize }}!
			</div>
		</div>
	</div>

	{% comment %} Bio Content {% endcomment %}
	<section class="bg-neutral-800 hover:shadow-md container p-6 mb-6 rounded-lg shadow-lg">
		<h2 class="mb-2 text-lg font-semibold text-white">Bio</h2>
		<p class="text-gray-400">{{user_profile.bio}}</p>
	</section>

	{% comment %} Recents Section {% endcomment %}
	<div class="min-h-screen gap-6">
		{% comment %} Generated Images {% endcomment %}
		<section class="container">
			<h2 class="mb-2 text-lg font-semibold text-white">
				Recent Images Generated
			</h2>

			<div class="relative">
				{% comment %} Swiper Container {% endcomment %}
				<div class="swiper mySwiper bg-neutral-900 mt-4 rounded-lg shadow-lg">
					<div class="swiper-wrapper mb-6">
						{% for image in generated_images %}
						<div
							class="swiper-slide hover:scale-105 relative overflow-hidden transition-all duration-300 transform rounded-lg shadow-md">
							{% comment %} Delete Button (Top-Right Positioned) {% endcomment %}
							<a href="{% url 'delete-generated-image' image.id %}"
								class="top-2 right-4 hover:bg-red-500 hover:scale-110 absolute z-10 flex items-center justify-center w-10 h-10 p-2 text-center text-white transition-all duration-300 bg-red-700 rounded-lg shadow-md">
								{% comment %} Delete Icon {% endcomment %}
								<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
									width="24px" fill="CurrentColor">
									<path
										d="M280-120q-33 0-56.5-23.5T200-200v-520q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h160q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800h160q17 0 28.5 11.5T800-760q0 17-11.5 28.5T760-720v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM400-280q17 0 28.5-11.5T440-320v-280q0-17-11.5-28.5T400-640q-17 0-28.5 11.5T360-600v280q0 17 11.5 28.5T400-280Zm160 0q17 0 28.5-11.5T600-320v-280q0-17-11.5-28.5T560-640q-17 0-28.5 11.5T520-600v280q0 17 11.5 28.5T560-280ZM280-720v520-520Z" />
								</svg>
							</a>

							<a href="{% url 'output-image' image.id %}">
								<img src="{{ image.image.url }}" alt="Generated Image"
									class="hover:scale-110 object-cover w-full h-64 transition-all duration-300 rounded-lg"
									loading="lazy" />
							</a>

							<div class="bottom-2 absolute flex items-center justify-between w-full px-4">
								<p class="bg-black/30 px-2 text-sm text-white rounded">
									{{ image.created_at|date:"F d, Y H:i" }}
								</p>

								<a href="{{ image.image.url }}" download
									class="hover:bg-purple-500 hover:scale-110 flex items-center justify-center w-10 h-10 p-2 text-center text-white transition-all duration-300 bg-purple-700 rounded-lg shadow-md">
									{% comment %} Download Icon {% endcomment %}
									<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 -960 960 960"
										fill="currentColor">
										<path
											d="M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z" />
									</svg>
								</a>
							</div>
						</div>
						{% empty %}
						<p id="no-images" class="text-neutral-400 col-span-full text-center">
							No images generated yet.
						</p>
						{% endfor %}
					</div>

					<div class="swiper-pagination"></div>
					<div class="swiper-button-prev"></div>
					<div class="swiper-button-next"></div>
				</div>
			</div>
		</section>

		{% comment %} Enhanceed Images {% endcomment %}
		<section class="container">
			<h2 class="mb-2 text-lg font-semibold text-white">
				Recent Images Enhanced
			</h2>

			<div class="relative">
				{% comment %} Swiper Container {% endcomment %}
				<div class="swiper mySwiper bg-neutral-900 mt-4 rounded-lg shadow-lg">
					<div class="swiper-wrapper mb-6">
						{% for image in enhanced_images %}
						<div
							class="swiper-slide hover:scale-105 relative overflow-hidden transition-all duration-300 transform rounded-lg shadow-md">
							{% comment %} Delete Button (Top-Right Positioned) {% endcomment %}
							<a href="{% url 'delete-enhanced-image' image.id %}"
								class="top-2 right-4 hover:bg-red-500 hover:scale-110 absolute z-10 flex items-center justify-center w-10 h-10 p-2 text-center text-white transition-all duration-300 bg-red-700 rounded-lg shadow-md">
								{% comment %} Delete Icon {% endcomment %}
								<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
									width="24px" fill="CurrentColor">
									<path
										d="M280-120q-33 0-56.5-23.5T200-200v-520q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h160q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800h160q17 0 28.5 11.5T800-760q0 17-11.5 28.5T760-720v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM400-280q17 0 28.5-11.5T440-320v-280q0-17-11.5-28.5T400-640q-17 0-28.5 11.5T360-600v280q0 17 11.5 28.5T400-280Zm160 0q17 0 28.5-11.5T600-320v-280q0-17-11.5-28.5T560-640q-17 0-28.5 11.5T520-600v280q0 17 11.5 28.5T560-280ZM280-720v520-520Z" />
								</svg>
							</a>

							<a href="{% url 'output-image' image.id %}">
								<img src="{{ image.image.url }}" alt="Enhanced Image"
									class="hover:scale-110 object-cover w-full h-64 transition-all duration-300 rounded-lg"
									loading="lazy" />
							</a>

							<div class="bottom-2 absolute flex items-center justify-between w-full px-4">
								<p class="bg-black/30 px-2 text-sm text-white rounded">
									{{ image.created_at|date:"F d, Y H:i" }}
								</p>

								<a href="{{ image.image.url }}" download
									class="hover:bg-purple-500 hover:scale-110 flex items-center justify-center w-10 h-10 p-2 text-center text-white transition-all duration-300 bg-purple-700 rounded-lg shadow-md">
									{% comment %} Download Icon {% endcomment %}
									<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 -960 960 960"
										fill="currentColor">
										<path
											d="M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z" />
									</svg>
								</a>
							</div>
						</div>
						{% empty %}
						<p id="no-images" class="text-neutral-400 col-span-full text-center">
							No images enhanced yet.
						</p>
						{% endfor %}
					</div>

					<div class="swiper-pagination"></div>
					<div class="swiper-button-prev"></div>
					<div class="swiper-button-next"></div>
				</div>
			</div>
		</section>
	</div>

	<script>
		// SwiperJS Script
		document.addEventListener("DOMContentLoaded", function () {
			var swiper = new Swiper(".mySwiper", {
				slidesPerView: 4, // Default
				spaceBetween: 20,
				loop: false,
				autoplay: {
					delay: 3000,
					disableOnInteraction: true,
				},
				pagination: {
					el: ".swiper-pagination",
					clickable: true,
				},
				navigation: {
					nextEl: ".swiper-button-next", // Connect custom buttons
					prevEl: ".swiper-button-prev",
				},
				breakpoints: {
					320: { slidesPerView: 1 }, // Mobile
					768: { slidesPerView: 2 }, // Tablets
					1024: { slidesPerView: 4 }, // Desktops
				},
			});
		});
	</script>
</main>

{% endblock content %}